<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Collections</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="admin.css">
    <style>
        .edit-collection-btn {
            margin-left: 5px;
            font-size: 0.9rem;
            padding: 2px 8px;
            background-color: #000;
            color: #fff;
            border: 1px solid #fff;
        }

        .edit-collection-btn:hover {
            background-color: #fff;
            color: #000;
            border: 1px solid #000;
        }
    </style>
</head>

<body>
    <div class="wrapper">
        <header class="header">
            
            <div class="logo">
                <a href="../home/home.html" class="logo-link" style="display: flex; text-decoration: none;">
                <img src="../../images/logoonly.png" alt="Logo">
                <p class="logo-name">NollieConcept</p>
                </a>
            </div>
            <div class="nav-right nav-icons">
                <div class="user-dropdown">
                    <img src="../../images/user.png" alt="User" class="icon user-icon">
                    <div class="dropdown-menu">
                        <!-- Default options for logged-out users -->
                        <a href="../io/signin.html" class="dropdown-item" id="signin">Sign In</a>
                        <a href="../io/signup.html" class="dropdown-item" id="signup">Sign Up</a>
                        <!-- Options for logged-in users (hidden by default) -->
                        <a href="../io/userinfo.html" class="dropdown-item" id="info" style="display: none;">Info</a>
                        <a href="../home/home.html" class="dropdown-item" id="logout" style="display: none;">Logout</a>
                    </div>
                </div>
            </div>
    </header>



    <div class="main-container">



        <div class="second-main-container">
            <div class="sidebar">
                <h3>Admin</h3>
                <a href="./dashboard.html">Dashboard</a>
                <a href="./product_management.html">All Products</a>
                <a href="./add_product.html">Add Product</a>
                <a href="./collection_management.html">All Collectins</a>
                <a href="./add_collection.html">Add Collecion</a>
                <a href="./option_management.html">All Options</a>
                <a href="./add_option.html">Add Option</a>
                <a href="./coupon_management.html">All Coupons</a>
                <a href="./add_coupon.html">Add Coupons</a>
                <a href="./user_management.html">Users</a>
                <a href="./order_list.html">Orders</a>
                
            </div>
            
                <section class="container mt-4">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h2>Collection Management</h2>
                        <div>
                            <button class="btn btn-dark">Add Collection</button>
                            <input type="text" id="search-input" class="form-control d-inline-block w-auto" placeholder="Search collection name">
                            <input type="text" id="search-id-input" class="form-control d-inline-block w-auto" placeholder="Search collection ID">
                            <button id="search-button" class="btn btn-outline-secondary">Search</button>
                        </div>
                    </div>
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Name</th>
                                <th>Number of Products</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody id="collection-table-body">
                            <!-- Sample collections -->
                            <tr>
                                <td>1</td>
                                <td>Living Room Collection</td>
                                <td>15</td>
                                <td>
                                    <a href="./edit_collection.html" class="btn btn-outline-dark">Edit</a>
                                </td>
                            </tr>
                            <!-- Additional collections will be dynamically added via JS -->
                        </tbody>
                    </table>
                    <div class="d-flex justify-content-between">
                        <span id="pagination-info">Showing 1-5 of 20</span>
                        <div>
                            <button id="prev-page" class="btn btn-outline-secondary">&lt;</button>
                            <button id="next-page" class="btn btn-outline-secondary">&gt;</button>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>
    <script src="admin.js"></script>
    <script>
        // Sample collections data
        const collections = Array.from({ length: 20 }, (_, i) => ({
            id: i + 1,
            name: `Collection ${i + 1}`,
            numProducts: Math.floor(Math.random() * 50) + 1,
        }));

        let currentPage = 1;
        const rowsPerPage = 5;

        function renderCollections(collectionList = collections) {
            const tableBody = document.getElementById("collection-table-body");
            tableBody.innerHTML = "";

            const start = (currentPage - 1) * rowsPerPage;
            const end = start + rowsPerPage;
            const paginatedCollections = collectionList.slice(start, end);

            paginatedCollections.forEach((collection) => {
                const row = document.createElement("tr");
                row.innerHTML = `
                    <td>${collection.id}</td>
                    <td>${collection.name}</td>
                    <td>${collection.numProducts}</td>
                    <td>
                        <a href="./edit_collection.html" class="btn btn-outline-dark">Edit</a>
                    </td>
                `;
                tableBody.appendChild(row);
            });

            document.getElementById("pagination-info").textContent = `Showing ${start + 1}-${Math.min(end, collectionList.length)} of ${collectionList.length}`;
        }

        document.getElementById("prev-page").addEventListener("click", () => {
            if (currentPage > 1) {
                currentPage--;
                renderCollections();
            }
        });

        document.getElementById("next-page").addEventListener("click", () => {
            if (currentPage * rowsPerPage < collections.length) {
                currentPage++;
                renderCollections();
            }
        });

        document.getElementById("search-input").addEventListener("input", function () {
            const searchTerm = this.value.toLowerCase();
            const filteredCollections = collections.filter(collection =>
                collection.name.toLowerCase().includes(searchTerm)
            );
            renderCollections(filteredCollections);
        });

        document.getElementById("search-id-input").addEventListener("input", function () {
            const searchId = this.value.trim();
            const filteredCollections = collections.filter(collection =>
                collection.id.toString().includes(searchId)
            );
            renderCollections(filteredCollections);
        });

        document.getElementById("search-button").addEventListener("click", function () {
            const nameSearchTerm = document.getElementById("search-input").value.toLowerCase();
            const idSearchTerm = document.getElementById("search-id-input").value.trim();
            const filteredCollections = collections.filter(collection =>
                collection.name.toLowerCase().includes(nameSearchTerm) &&
                collection.id.toString().includes(idSearchTerm)
            );
            renderCollections(filteredCollections);
        });

        renderCollections();
    </script>
    <script src="admin.js"></script>
</body>

</html>
