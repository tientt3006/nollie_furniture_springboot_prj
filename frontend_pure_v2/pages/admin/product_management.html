<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Products</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="admin.css">
    <style>
        .edit-product-btn {
            margin-left: 5px;
            font-size: 0.9rem;
            padding: 2px 8px;
            background-color: #000; /* Black background */
            color: #fff; /* White text */
            border: 1px solid #fff; /* White border */
        }

        .edit-product-btn:hover {
            background-color: #fff; /* White background on hover */
            color: #000; /* Black text on hover */
            border: 1px solid #000; /* Black border on hover */
        }
    </style>
</head>

<body>

    <div class="wrapper">



        <header class="header">
            
                <div class="logo">
                    <a href="../home/home.html" class="logo-link" style="display: flex; text-decoration: none;">
                    <img src="../../images/logoonly.png" alt="Logo">
                    <p class="logo-name">NollieConcept</p>
                    </a>
                </div>
                <div class="nav-right nav-icons">
                    <div class="user-dropdown">
                        <img src="../../images/user.png" alt="User" class="icon user-icon">
                        <div class="dropdown-menu">
                            <!-- Default options for logged-out users -->
                            <a href="../io/signin.html" class="dropdown-item" id="signin">Sign In</a>
                            <a href="../io/signup.html" class="dropdown-item" id="signup">Sign Up</a>
                            <!-- Options for logged-in users (hidden by default) -->
                            <a href="../io/userinfo.html" class="dropdown-item" id="info" style="display: none;">Info</a>
                            <a href="../home/home.html" class="dropdown-item" id="logout" style="display: none;">Logout</a>
                        </div>
                    </div>
                </div>
        </header>



        <div class="main-container">



            <div class="second-main-container">
                <div class="sidebar">
                    <h3>Admin</h3>
                    <a href="./dashboard.html">Dashboard</a>
                    <a href="./product_management.html">All Products</a>
                    <a href="./add_product.html">Add Product</a>
                    <a href="./collection_management.html">All Collectins</a>
                    <a href="./add_collection.html">Add Collecion</a>
                    <a href="./option_management.html">All Options</a>
                    <a href="./add_option.html">Add Option</a>
                    <a href="./coupon_management.html">All Coupons</a>
                    <a href="./add_coupon.html">Add Coupons</a>
                    <a href="./user_management.html">Users</a>
                    <a href="./order_list.html">Orders</a>
                    
                </div>
                
                <section class="container mt-4">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h2>Product Stock</h2>
                        <div>
                            <button class="btn btn-dark">Add Product</button>
                            <input type="text" id="search-id-input" class="form-control d-inline-block w-auto" placeholder="Search by ID">
                            <input type="text" id="search-input" class="form-control d-inline-block w-auto" placeholder="Search product name">
                            <button id="search-button" class="btn btn-outline-secondary">Search</button>
                        </div>
                    </div>
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Image</th>
                                <th>Product Name</th>
                                <th>Category</th>
                                <th>Price</th>
                                <th>Stock</th>
                                <th>Option</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody id="product-table-body">
                            <!-- Sample products -->
                            <tr>
                                <td>1</td>
                                <td><img src="table.png" width="50"></td>
                                <td>Table 1</td>
                                <td>Table</td>
                                <td>$690.00</td>
                                <td>63</td>
                                <td>color, material, tabletop, leg</td>
                                <td class="action-icons">
                                    <i class="bi bi-pencil-square text-primary edit-icon"></i>
                                    <i class="bi bi-trash text-danger delete-icon"></i>
                                    <button class="btn btn-sm btn-outline-primary edit-product-btn">Edit Product</button>
                                </td>
                            </tr>
                            <!-- Additional products will be dynamically added via JS -->
                        </tbody>
                    </table>
                    <div class="d-flex justify-content-between">
                        <span id="pagination-info">Showing 1-9 of 78</span>
                        <div>
                            <button id="prev-page" class="btn btn-outline-secondary">&lt;</button>
                            <button id="next-page" class="btn btn-outline-secondary">&gt;</button>
                        </div>
                    </div>
                </section>
                
                <link href="styles.css" rel="stylesheet">
                <script src="script.js"></script>
                





            </div>
        </div>


    </div>
    <script src="admin.js"></script>
    <script>
        // Sample products data
        const products = Array.from({ length: 50 }, (_, i) => ({
            id: i + 1,
            name: `Product ${i + 1}`,
            category: ["Table", "Chair", "Sofa", "Bed"][i % 4],
            price: `$${(Math.random() * 1000).toFixed(2)}`,
            stock: Math.floor(Math.random() * 100),
            options: "color, material, size",
        }));

        document.addEventListener("DOMContentLoaded", function () {
            document.querySelectorAll(".delete-icon").forEach(button => {
                button.addEventListener("click", function () {
                    alert("Are you sure you want to delete this product?");
                });
            });

            // document.querySelectorAll(".edit-icon").forEach(button => {
            //     button.addEventListener("click", function () {
            //         alert("Edit product feature coming soon!");
            //     });
            // });

            // document.querySelectorAll(".edit-product-btn").forEach(button => {
            //     button.addEventListener("click", function () {
            //         alert("Edit product functionality will be implemented here.");
            //     });
            // });

            document.getElementById("search-button").addEventListener("click", function () {
                const searchTerm = document.getElementById("search-input").value.toLowerCase();
                const searchId = document.getElementById("search-id-input").value.trim();
                const filteredProducts = products.filter(product =>
                    (searchId === "" || product.id.toString() === searchId) &&
                    product.name.toLowerCase().includes(searchTerm)
                );
                renderProducts(filteredProducts);
            });
        });
        // Pagination variables
        let currentPage = 1;
        const rowsPerPage = 9;

        // Render products for the current page
        function renderProducts(productList = products) {
            const tableBody = document.getElementById("product-table-body");
            tableBody.innerHTML = "";

            const start = (currentPage - 1) * rowsPerPage;
            const end = start + rowsPerPage;
            const paginatedProducts = productList.slice(start, end);

            paginatedProducts.forEach((product) => {
                const row = document.createElement("tr");
                row.innerHTML = `
                    <td>${product.id}</td>
                    <td><img src="../../images/topselling_product_1.png" width="50"></td>
                    <td>${product.name}</td>
                    <td>${product.category}</td>
                    <td>${product.price}</td>
                    <td>${product.stock}</td>
                    <td>${product.options}</td>
                    <td class="action-icons">
                        <i class="bi bi-pencil-square text-primary edit-icon"></i>
                        <i class="bi bi-trash text-danger delete-icon"></i>
                        <button class="btn btn-sm btn-outline-primary edit-product-btn"><a href="./edit_product.html" style="text-decoration: none; color: inherit;">Edit Product</a></button>
                    </td>
                `;
                tableBody.appendChild(row);
            });

            document.getElementById("pagination-info").textContent = `Showing ${start + 1}-${Math.min(end, productList.length)} of ${productList.length}`;
        }

        // Search functionality
        document.getElementById("search-input").addEventListener("input", function () {
            const searchTerm = this.value.toLowerCase();
            const filteredProducts = products.filter(product =>
                product.name.toLowerCase().includes(searchTerm)
            );
            renderProducts(filteredProducts);
        });

        // Pagination controls
        document.getElementById("prev-page").addEventListener("click", () => {
            if (currentPage > 1) {
                currentPage--;
                renderProducts();
            }
        });

        document.getElementById("next-page").addEventListener("click", () => {
            if (currentPage * rowsPerPage < products.length) {
                currentPage++;
                renderProducts();
            }
        });

        // Initial render
        renderProducts();
    </script>
    <script src="admin.js"></script>
</body>

</html>